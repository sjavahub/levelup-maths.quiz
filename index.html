<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Level Up Questions - Math Quiz</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f4f6fc;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .page {
            display: none;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            width: 400px;
            overflow-y: auto;
            max-height: 90vh;
        }

        .active {
            display: block;
        }

        input,
        button,
        select {
            margin: 10px 0;
            padding: 10px;
            width: 100%;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        h2 {
            margin-bottom: 20px;
        }

        .error {
            color: red;
            font-size: 0.9em;
        }

        .question-block {
            margin-bottom: 20px;
        }

        .correct {
            color: green;
        }

        .wrong {
            color: red;
        }
    </style>
</head>

<body>

    <!-- Page 1: Login or Signup -->
    <div class="page active" id="page1">
        <h2>Step 1: Account Access</h2>
        <select id="accountType">
            <option value="signup">Sign Up</option>
            <option value="signin">Sign In</option>
        </select>
        <input type="text" id="id" placeholder="ID Number">
        <input type="password" id="password" placeholder="Password">
        <input type="password" id="confirm" placeholder="Confirm Password">
        <div id="error1" class="error"></div>
        <button onclick="nextPage(2)">Next</button>
    </div>

    <!-- Page 2: Personal Info -->
    <div class="page" id="page2">
        <h2>Step 2: Personal Info</h2>
        <input type="text" id="name" placeholder="Your Name">
        <input type="text" id="surname" placeholder="Surname">
        <input type="text" id="grade" placeholder="Grade">
        <input type="text" id="school" placeholder="School Name">
        <input type="text" id="location" placeholder="Location/Village">
        <input type="date" id="dob">
        <input type="email" id="email" placeholder="Email Address">
        <div id="error2" class="error"></div>
        <button onclick="nextPage(3)">Start Quiz</button>
    </div>

    <!-- Page 3: Quiz -->
    <div class="page" id="page3">
        <h2>Level Up Questions</h2>
        <div id="quiz"></div>
        <div id="error3" class="error"></div>
        <button onclick="submitQuiz()">Submit Answers</button>
    </div>

    <!-- Page 4: Results -->
    <div class="page" id="page4">
        <h2>Results</h2>
        <div id="results"></div>
    </div>

    <script>
        const questions = [
            { q: "x + 5 = 12", options: ["x = 5", "x = 7", "x = 17"], answer: "x = 7" },
            { q: "3x = 15", options: ["x = 5", "x = 45", "x = 15"], answer: "x = 5" },
            { q: "x - 4 = 9", options: ["x = 13", "x = 5", "x = 4"], answer: "x = 13" },
            { q: "2x + 3 = 11", options: ["x = 4", "x = 3", "x = 5"], answer: "x = 4" },
            { q: "5x - 10 = 0", options: ["x = 0", "x = 2", "x = 10"], answer: "x = 2" },
            { q: "x² = 49", options: ["x = ±7", "x = 7", "x = -7"], answer: "x = ±7" },
            { q: "x / 4 = 3", options: ["x = 12", "x = 4", "x = 7"], answer: "x = 12" },
            { q: "2x + 6 = 4x - 2", options: ["x = 4", "x = 2", "x = 8"], answer: "x = 4" },
            { q: "x² - 16 = 0", options: ["x = ±4", "x = 16", "x = 8"], answer: "x = ±4" },
            { q: "3x + 2 = 2x + 5", options: ["x = 3", "x = 1", "x = -3"], answer: "x = 3" },
            { q: "x² - 9 = 0", options: ["x = ±3", "x = 3", "x = -3"], answer: "x = ±3" },
            { q: "4x - 7 = 5", options: ["x = 3", "x = 2", "x = 4"], answer: "x = 3" },
            { q: "x² = 100", options: ["x = ±10", "x = 10", "x = -10"], answer: "x = ±10" },
            { q: "6x + 2 = 20", options: ["x = 3", "x = 4", "x = 5"], answer: "x = 3" },
            { q: "x / 5 + 2 = 6", options: ["x = 20", "x = 15", "x = 10"], answer: "x = 20" },
            { q: "x - 8 = -3", options: ["x = 5", "x = -5", "x = 11"], answer: "x = 5" },
            { q: "2x = x + 9", options: ["x = 9", "x = 18", "x = 0"], answer: "x = 9" },
            { q: "x² = 36", options: ["x = ±6", "x = 6", "x = -6"], answer: "x = ±6" },
            { q: "x / 2 = 7", options: ["x = 14", "x = 7", "x = 2"], answer: "x = 14" },
            { q: "x + 10 = 0", options: ["x = -10", "x = 10", "x = 0"], answer: "x = -10" }
        ];

        function nextPage(n) {
            if (n === 2 && !validateAccount()) return;
            if (n === 3 && !validateInfo()) return;

            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById('page' + n).classList.add('active');
            if (n === 3) loadQuiz();
        }

        function validateAccount() {
            const type = document.getElementById("accountType").value;
            const id = document.getElementById("id").value.trim();
            const pass = document.getElementById("password").value;
            const confirm = document.getElementById("confirm").value;
            const error = document.getElementById("error1");
            error.textContent = "";

            if (!id || !pass || (type === "signup" && !confirm)) {
                error.textContent = "Please fill in all required fields.";
                return false;
            }
            if (type === "signup" && pass !== confirm) {
                error.textContent = "Password and confirmation do not match.";
                return false;
            }
            return true;
        }

        function validateInfo() {
            const fields = ["name", "surname", "grade", "school", "location", "dob", "email"];
            const error = document.getElementById("error2");
            error.textContent = "";

            for (